{"ast":null,"code":"import _asyncToGenerator from \"/Users/justmac/Desktop/Refr Group/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/form-field\";\nimport * as i2 from \"@angular/material/input\";\nimport * as i3 from \"@angular/material/icon\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/table\";\n\nfunction CustomerComponent_table_23_th_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 31);\n    i0.ɵɵtext(1, \"#\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CustomerComponent_table_23_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 32);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_table_23_td_3_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const row_r10 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.check(row_r10);\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const row_r10 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(row_r10.selected ? \"check_box\" : \"check_box_outline_blank\");\n  }\n}\n\nfunction CustomerComponent_table_23_th_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 33);\n    i0.ɵɵtext(1, \" Customer \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CustomerComponent_table_23_td_6_br_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"br\");\n  }\n}\n\nfunction CustomerComponent_table_23_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, CustomerComponent_table_23_td_6_br_2_Template, 1, 0, \"br\", 35);\n    i0.ɵɵtext(3);\n    i0.ɵɵelement(4, \"div\", 36);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", row_r13.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r13.phone || row_r13.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", row_r13.phone, \" \", row_r13.email, \" \");\n  }\n}\n\nfunction CustomerComponent_table_23_th_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 37);\n  }\n}\n\nfunction CustomerComponent_table_23_td_9_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_table_23_td_9_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.invitesmsuser();\n    });\n    i0.ɵɵtext(1, \"SMS\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CustomerComponent_table_23_td_9_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_table_23_td_9_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return ctx_r20.invitewhatappuser();\n    });\n    i0.ɵɵtext(1, \"Whatapp\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CustomerComponent_table_23_td_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 38);\n    i0.ɵɵtemplate(1, CustomerComponent_table_23_td_9_button_1_Template, 2, 0, \"button\", 39);\n    i0.ɵɵtemplate(2, CustomerComponent_table_23_td_9_button_2_Template, 2, 0, \"button\", 39);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const row_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r15.exist);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !row_r15.exist);\n  }\n}\n\nfunction CustomerComponent_table_23_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 40);\n  }\n}\n\nfunction CustomerComponent_table_23_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 41)(1, \"td\", 42);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n\n    const _r0 = i0.ɵɵreference(18);\n\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.showData ? \"You have no users\" : \"No contacts matching the filter \" + _r0.value, \" \");\n  }\n}\n\nfunction CustomerComponent_table_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 19);\n    i0.ɵɵelementContainerStart(1, 20);\n    i0.ɵɵtemplate(2, CustomerComponent_table_23_th_2_Template, 2, 0, \"th\", 21);\n    i0.ɵɵtemplate(3, CustomerComponent_table_23_td_3_Template, 3, 1, \"td\", 22);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(4, 23);\n    i0.ɵɵtemplate(5, CustomerComponent_table_23_th_5_Template, 2, 0, \"th\", 24);\n    i0.ɵɵtemplate(6, CustomerComponent_table_23_td_6_Template, 5, 4, \"td\", 25);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(7, 26);\n    i0.ɵɵtemplate(8, CustomerComponent_table_23_th_8_Template, 1, 0, \"th\", 27);\n    i0.ɵɵtemplate(9, CustomerComponent_table_23_td_9_Template, 3, 2, \"td\", 28);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(10, CustomerComponent_table_23_tr_10_Template, 1, 0, \"tr\", 29);\n    i0.ɵɵtemplate(11, CustomerComponent_table_23_tr_11_Template, 3, 1, \"tr\", 30);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dataSource\", ctx_r1.dataSource);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r1.displayedColumns);\n  }\n}\n\nexport let CustomerComponent = /*#__PURE__*/(() => {\n  class CustomerComponent {\n    constructor() {\n      // @ViewChild(MatPaginator)\n      // paginator!: MatPaginator;\n      // @ViewChild(MatSort) \n      // sort!: MatSort;\n      this.listofscontact = \"\";\n      this.displayedColumns = ['check', 'name', \"action\"];\n      this.showData = false;\n    }\n\n    ngOnInit() {}\n\n    ngAfterViewInit() {\n      setTimeout(() => {\n        this.syncContact();\n      }, 3000);\n    }\n\n    syncContact() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        // await Contacts.getContacts().then(result => {\n        let result;\n\n        if (result != undefined) {\n          for (let i = 0; i < result.contacts.length; i++) {\n            const element = result.contacts[i];\n\n            if (element.displayName && element.contactId && element.phoneNumbers.length) {\n              const newCon = [{\n                displayName: element.displayName,\n                contactId: element.contactId,\n                phoneNumber: element.phoneNumbers[0].number\n              }]; // contacts.push(element)\n\n              _this.dataSource = new MatTableDataSource(newCon);\n            }\n          }\n        }\n\n        const users = [{\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"9167452128\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567801\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567802\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567803\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567804\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567805\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567806\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567807\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567808\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567809\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567810\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567811\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567812\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567813\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567814\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567815\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567816\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567817\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567819\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"1234567820\",\n          exist: false,\n          selected: false\n        }, {\n          name: \"Name1\",\n          email: \"email1@example.com\",\n          phone: \"1234567821\",\n          exist: true,\n          selected: false\n        }, {\n          name: \"Name2\",\n          email: \"email2@example.com\",\n          phone: \"9167452128\",\n          exist: false,\n          selected: false\n        }];\n        _this.dataSource = new MatTableDataSource(users); // }).catch(err => {\n        // });\n      })();\n    } // ngAfterViewInit() {\n    // setTimeout(() => {\n    // this.execute();\n    // }, 3000);\n    // }\n\n\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n\n      if (this.dataSource.paginator) {\n        this.dataSource.paginator.firstPage();\n      }\n    } // execute(){\n    // Create 100 users\n    // const users: any[] = [\n    //    {name:\"Name1\", email:\"email1@example.com\", phone:\"+919876543210\", exist: true},\n    //    {name:\"Name2\", email:\"email2@example.com\", phone:\"+919876543211\", exist: false}\n    // ];\n    // this.dataSource = new MatTableDataSource(users);\n    // this.dataSource.paginator = this.paginator;\n    // this.dataSource.sort = this.sort;\n    // this.showData = true;\n    // }\n\n\n    invitesmsuser() {\n      var userAgent = window.navigator.userAgent;\n      let message = \"hi i rec https://refr.club/ to visit\"; // if(!this.auth.resource.appMode){\n      // const url = \"sms:\" + (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) ? \"\" : \";\" + \"body=\" + message;\n      // window.open(url, \"_blank\");\n\n      window.SMS.sendSMS(['9167452128', '1234567801', '1234567802', '1234567803', '1234567804', '1234567805', '1234567806', '1234567807', '1234567808', '1234567809', '1234567810', '1234567811', '1234567812', '1234567813', '1234567814', '1234567815', '1234567816', '1234567817', '1234567818', '1234567819', '1234567820', '1234567821', '1234567822', '1234567823'], 'Text message for multiple recipients', result => {\n        alert(\"send\"); // should be 'OK' string\n      }, error => {\n        alert(error);\n      }); // }\n      // else{\n      // this.socialSharing.shareViaSMS(message, \"\")\n      // }\n    }\n\n    invitewhatappuser() {}\n\n    check(row) {\n      row.selected = !row.selected;\n    }\n\n    selectall() {\n      this.listofscontact = \"\";\n\n      for (let i = 0; i < this.dataSource.data.length; i++) {\n        if (i < 20) {\n          // console.log(this.dataSource.data[i].phone)\n          var comma = this.listofscontact == \"\" ? \"\" : \",\";\n          this.listofscontact = this.listofscontact + comma + this.dataSource.data[i].phone;\n          this.dataSource.data[i].selected = true;\n        } else {\n          console.log(\"full = \" + this.dataSource.data[i].phone);\n        }\n      }\n\n      console.log(\"listofphones\" + this.listofscontact);\n    }\n\n    sendall() {\n      var userAgent = window.navigator.userAgent;\n      let message = \"hi i rec https://refr.club/ to visit\";\n      let comma = \"\";\n\n      if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {\n        comma = \"\";\n      } else {\n        comma = \";\";\n      }\n\n      const url = \"sms:\" + comma + this.listofscontact + \"?\" + \"body=\" + message; // alert(\"URl = \" + url);\n\n      window.open(url, \"_blank\"); // }\n      // else{\n      // this.socialSharing.shareViaSMS(message, \"\")\n      // }\n    }\n\n  }\n\n  CustomerComponent.ɵfac = function CustomerComponent_Factory(t) {\n    return new (t || CustomerComponent)();\n  };\n\n  CustomerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CustomerComponent,\n    selectors: [[\"app-customer\"]],\n    decls: 34,\n    vars: 1,\n    consts: [[1, \"container\"], [1, \"row\", 2, \"transform\", \"translateY(-140px)\"], [1, \"col\", \"col-100\", \"textC\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"disabled\", \"\", 3, \"click\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"disabled\", \"\"], [1, \"col\", \"col-20\", \"col-sm-none\", \"textC\", 2, \"visibility\", \"hidden\"], [\"mat-button\", \"\", 1, \"c_warn\"], [1, \"col\", \"col-60\", \"col-sm-100\", \"col-card\"], [1, \"card-box\", 2, \"overflow\", \"hidden\"], [\"appearance\", \"legacy\", 1, \"fullWidth\"], [\"matInput\", \"\", \"placeholder\", \"name / email / phone\", \"autocomplete\", \"off\", 3, \"keyup\"], [\"input\", \"\"], [\"matSuffix\", \"\"], [\"mat-icon-button\", \"\", \"color\", \"primary\"], [\"class\", \"customers b_persist\", \"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\", 4, \"ngIf\"], [2, \"margin\", \"0 -16px\"], [1, \"col\", \"col-100\"], [1, \"c_persist\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-table\", \"\", \"matSort\", \"\", 1, \"customers\", \"b_persist\", 3, \"dataSource\"], [\"matColumnDef\", \"check\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"class\", \"textC\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"textC\", 3, \"click\", 4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"action\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", \"class\", \"textR\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", \"class\", \"textR\", 4, \"matCellDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 1, \"textC\"], [\"mat-cell\", \"\", 1, \"textC\", 3, \"click\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [4, \"ngIf\"], [1, \"info\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 1, \"textR\"], [\"mat-cell\", \"\", 1, \"textR\"], [\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\", 4, \"ngIf\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [\"colspan\", \"3\", 1, \"mat-cell\"]],\n    template: function CustomerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function CustomerComponent_Template_button_click_3_listener() {\n          return ctx.syncContact();\n        });\n        i0.ɵɵtext(4, \"Sync Contacts\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(5, \" \\u00A0 \");\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵtext(7, \"Add New User\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"div\", 1)(9, \"div\", 5)(10, \"a\", 6);\n        i0.ɵɵtext(11, \"Read Docs\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"div\", 8)(14, \"mat-form-field\", 9)(15, \"mat-label\");\n        i0.ɵɵtext(16, \"Search customers\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"input\", 10, 11);\n        i0.ɵɵlistener(\"keyup\", function CustomerComponent_Template_input_keyup_17_listener($event) {\n          return ctx.applyFilter($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"span\", 12)(20, \"button\", 13)(21, \"mat-icon\");\n        i0.ɵɵtext(22, \"filter_list\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtemplate(23, CustomerComponent_table_23_Template, 12, 2, \"table\", 14);\n        i0.ɵɵelement(24, \"div\", 15);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(25, \"div\", 16)(26, \"h1\", 17);\n        i0.ɵɵtext(27, \"Refr\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\")(29, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function CustomerComponent_Template_button_click_29_listener() {\n          return ctx.selectall();\n        });\n        i0.ɵɵtext(30, \"select 20\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\")(32, \"button\", 18);\n        i0.ɵɵlistener(\"click\", function CustomerComponent_Template_button_click_32_listener() {\n          return ctx.sendall();\n        });\n        i0.ɵɵtext(33, \"send All\");\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(23);\n        i0.ɵɵproperty(\"ngIf\", ctx.dataSource);\n      }\n    },\n    directives: [i1.MatFormField, i1.MatLabel, i2.MatInput, i1.MatSuffix, i3.MatIcon, i4.NgIf, i5.MatTable, i5.MatColumnDef, i5.MatHeaderCellDef, i5.MatHeaderCell, i5.MatCellDef, i5.MatCell, i5.MatRowDef, i5.MatRow, i5.MatNoDataRow],\n    styles: [\"\"]\n  });\n  return CustomerComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}