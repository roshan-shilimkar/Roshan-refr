{"ast":null,"code":"import _asyncToGenerator from \"/Users/justmac/Desktop/Refr Group/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nlet CustomerComponent = class CustomerComponent {\n  constructor() {\n    // @ViewChild(MatPaginator)\n    // paginator!: MatPaginator;\n    // @ViewChild(MatSort) \n    // sort!: MatSort;\n    this.listofscontact = \"\";\n    this.displayedColumns = ['check', 'name', \"action\"];\n    this.todaysdate = \"\";\n    this.showData = false;\n    this.contactlist = [];\n    this.selectedcontactlist = [];\n    localStorage.getItem(\"contactList\");\n    this.todaysdate = new Date().getDate().toString() + new Date().getMonth().toString() + new Date().getFullYear().toString(); // alert(this.todaysdate);\n  }\n\n  whatappshare() {\n    // if (!this.auth.resource.appMode) {\n    // const X = window.encodeURIComponent(textBODY)\n    const x = \"this is message from \";\n    const wa = `https://wa.me/?${'text=' + x}`;\n    window.open(wa, \"_blank\"); // } \n    // else {\n    // this.socialSharing.canShareVia(\"whatsapp\").then((res) => {\n    // this.socialSharing.shareViaWhatsApp(dataX.message, dataX.image).then(res => {\n    //       console.log(\"Success\");\n    //       this.erz.push(\"res: \" + res)\n    //     }).catch(err => {\n    //       console.log(err)\n    //     })\n    //   }).catch(e => {\n    //   })\n    // }\n  }\n\n  ngOnInit() {}\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.syncContact();\n    }, 3000);\n  }\n\n  syncContact() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // await Contacts.getContacts().then(result => {\n      let result;\n\n      if (result != undefined) {\n        for (let i = 0; i < result.contacts.length; i++) {\n          const element = result.contacts[i];\n\n          if (element.displayName && element.contactId && element.phoneNumbers.length) {\n            const newCon = [{\n              displayName: element.displayName,\n              contactId: element.contactId,\n              phoneNumber: element.phoneNumbers[0].number\n            }]; // contacts.push(element)\n\n            _this.dataSource = new MatTableDataSource(newCon);\n          }\n        }\n      }\n\n      _this.contactlist = [{\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"9167452128\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567801\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567802\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567803\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567804\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567805\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567806\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567807\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567808\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567809\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567810\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567811\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567812\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567813\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567814\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567815\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567816\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567817\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567819\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"1234567820\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name1\",\n        email: \"email1@example.com\",\n        phone: \"1234567821\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }, {\n        name: \"Name2\",\n        email: \"email2@example.com\",\n        phone: \"9167452128\",\n        exist: false,\n        selected: false,\n        inviteddate: \"\"\n      }];\n      _this.dataSource = new MatTableDataSource(_this.contactlist); // }).catch(err => {\n      // });\n    })();\n  } // ngAfterViewInit() {\n  // setTimeout(() => {\n  // this.execute();\n  // }, 3000);\n  // }\n\n\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  } // execute(){\n  // Create 100 users\n  // const users: any[] = [\n  //    {name:\"Name1\", email:\"email1@example.com\", phone:\"+919876543210\", exist: true},\n  //    {name:\"Name2\", email:\"email2@example.com\", phone:\"+919876543211\", exist: false}\n  // ];\n  // this.dataSource = new MatTableDataSource(users);\n  // this.dataSource.paginator = this.paginator;\n  // this.dataSource.sort = this.sort;\n  // this.showData = true;\n  // }\n\n\n  invitesmsuser() {\n    var userAgent = window.navigator.userAgent;\n    let message = \"hi i rec https://refr.club/ to visit \"; // if(!this.auth.resource.appMode){\n\n    const url = \"sms:\" + (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) ? \"\" : \";\" + \"body=\" + message;\n    window.open(url, \"_blank\"); // }\n    // else{\n    // this.socialSharing.shareViaSMS(message, \"\")\n    // }\n  }\n\n  check(row) {\n    if (row.selected == false) {\n      if (this.selectedcontactlist.length < 20) {\n        this.selectedcontactlist.push({\n          phone: row.phone\n        });\n        row.selected = true;\n      } else {\n        alert(\"limit extended\");\n      }\n    } else {\n      const index = this.selectedcontactlist.findIndex(d => d.phone === row.phone);\n\n      if (index > -1) {\n        this.selectedcontactlist.splice(index, 1);\n        row.selected = false;\n      }\n    }\n  }\n\n  selectall() {\n    if (this.selectedcontactlist.length < 20) {\n      for (let i = 0; i < this.dataSource.data.length; i++) {\n        if (this.selectedcontactlist.length < 20 && this.dataSource.data[i].selected == false) {\n          this.selectedcontactlist.push({\n            phone: this.dataSource.data[i].phone\n          }); // var comma = this.listofscontact == \"\" ? \"\" : \",\";\n          // this.listofscontact = this.listofscontact + comma + this.dataSource.data[i].phone;\n\n          this.dataSource.data[i].selected = true;\n        } else {\n          console.log(\"full = \" + this.dataSource.data[i].phone);\n        }\n      }\n    }\n\n    this.listofscontact = \"\";\n    console.log(\"listofphones\" + this.dataSource.data[21].selected);\n  }\n\n  sendall() {\n    var userAgent = window.navigator.userAgent;\n    let message = \"hi i rec https://refr.club/ to visit\";\n    let comma = \"\";\n\n    if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {\n      comma = \"\";\n    } else {\n      comma = \";\";\n    }\n\n    const url = \"sms:\" + comma + this.listofscontact + \"?\" + \"body=\" + message; // alert(\"URl = \" + url);\n\n    window.open(url, \"_blank\"); // }\n    // else{\n    // this.socialSharing.shareViaSMS(message, \"\")\n    // }\n  }\n\n};\nCustomerComponent = __decorate([Component({\n  selector: 'app-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.scss']\n})], CustomerComponent);\nexport { CustomerComponent };","map":{"version":3,"sources":["/Users/justmac/Desktop/Refr Group/client/src/app/customer/customer.component.ts"],"names":["__decorate","Component","MatTableDataSource","CustomerComponent","constructor","listofscontact","displayedColumns","todaysdate","showData","contactlist","selectedcontactlist","localStorage","getItem","Date","getDate","toString","getMonth","getFullYear","whatappshare","x","wa","window","open","ngOnInit","ngAfterViewInit","setTimeout","syncContact","result","undefined","i","contacts","length","element","displayName","contactId","phoneNumbers","newCon","phoneNumber","number","dataSource","name","email","phone","exist","selected","inviteddate","applyFilter","event","filterValue","target","value","filter","trim","toLowerCase","paginator","firstPage","invitesmsuser","userAgent","navigator","message","url","match","check","row","push","alert","index","findIndex","d","splice","selectall","data","console","log","sendall","comma","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nlet CustomerComponent = class CustomerComponent {\n    constructor() {\n        // @ViewChild(MatPaginator)\n        // paginator!: MatPaginator;\n        // @ViewChild(MatSort) \n        // sort!: MatSort;\n        this.listofscontact = \"\";\n        this.displayedColumns = ['check', 'name', \"action\"];\n        this.todaysdate = \"\";\n        this.showData = false;\n        this.contactlist = [];\n        this.selectedcontactlist = [];\n        localStorage.getItem(\"contactList\");\n        this.todaysdate = new Date().getDate().toString() + new Date().getMonth().toString() + new Date().getFullYear().toString();\n        // alert(this.todaysdate);\n    }\n    whatappshare() {\n        // if (!this.auth.resource.appMode) {\n        // const X = window.encodeURIComponent(textBODY)\n        const x = \"this is message from \";\n        const wa = `https://wa.me/?${'text=' + x}`;\n        window.open(wa, \"_blank\");\n        // } \n        // else {\n        // this.socialSharing.canShareVia(\"whatsapp\").then((res) => {\n        // this.socialSharing.shareViaWhatsApp(dataX.message, dataX.image).then(res => {\n        //       console.log(\"Success\");\n        //       this.erz.push(\"res: \" + res)\n        //     }).catch(err => {\n        //       console.log(err)\n        //     })\n        //   }).catch(e => {\n        //   })\n        // }\n    }\n    ngOnInit() {\n    }\n    ngAfterViewInit() {\n        setTimeout(() => {\n            this.syncContact();\n        }, 3000);\n    }\n    async syncContact() {\n        // await Contacts.getContacts().then(result => {\n        let result;\n        if (result != undefined) {\n            for (let i = 0; i < result.contacts.length; i++) {\n                const element = result.contacts[i];\n                if (element.displayName && element.contactId && element.phoneNumbers.length) {\n                    const newCon = [{\n                            displayName: element.displayName,\n                            contactId: element.contactId,\n                            phoneNumber: element.phoneNumbers[0].number,\n                        }];\n                    // contacts.push(element)\n                    this.dataSource = new MatTableDataSource(newCon);\n                }\n            }\n        }\n        this.contactlist = [\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"9167452128\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567801\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567802\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567803\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567804\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567805\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567806\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567807\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567808\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567809\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567810\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567811\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567812\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567813\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567814\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567815\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567816\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567817\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567819\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"1234567820\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name1\", email: \"email1@example.com\", phone: \"1234567821\", exist: false, selected: false, inviteddate: \"\" },\n            { name: \"Name2\", email: \"email2@example.com\", phone: \"9167452128\", exist: false, selected: false, inviteddate: \"\" },\n        ];\n        this.dataSource = new MatTableDataSource(this.contactlist);\n        // }).catch(err => {\n        // });\n    }\n    // ngAfterViewInit() {\n    // setTimeout(() => {\n    // this.execute();\n    // }, 3000);\n    // }\n    applyFilter(event) {\n        const filterValue = event.target.value;\n        this.dataSource.filter = filterValue.trim().toLowerCase();\n        if (this.dataSource.paginator) {\n            this.dataSource.paginator.firstPage();\n        }\n    }\n    // execute(){\n    // Create 100 users\n    // const users: any[] = [\n    //    {name:\"Name1\", email:\"email1@example.com\", phone:\"+919876543210\", exist: true},\n    //    {name:\"Name2\", email:\"email2@example.com\", phone:\"+919876543211\", exist: false}\n    // ];\n    // this.dataSource = new MatTableDataSource(users);\n    // this.dataSource.paginator = this.paginator;\n    // this.dataSource.sort = this.sort;\n    // this.showData = true;\n    // }\n    invitesmsuser() {\n        var userAgent = window.navigator.userAgent;\n        let message = \"hi i rec https://refr.club/ to visit \";\n        // if(!this.auth.resource.appMode){\n        const url = \"sms:\" + (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) ? \"\" : \";\" + \"body=\" + message;\n        window.open(url, \"_blank\");\n        // }\n        // else{\n        // this.socialSharing.shareViaSMS(message, \"\")\n        // }\n    }\n    check(row) {\n        if (row.selected == false) {\n            if (this.selectedcontactlist.length < 20) {\n                this.selectedcontactlist.push({ phone: row.phone });\n                row.selected = true;\n            }\n            else {\n                alert(\"limit extended\");\n            }\n        }\n        else {\n            const index = this.selectedcontactlist.findIndex(d => d.phone === row.phone);\n            if (index > -1) {\n                this.selectedcontactlist.splice(index, 1);\n                row.selected = false;\n            }\n        }\n    }\n    selectall() {\n        if (this.selectedcontactlist.length < 20) {\n            for (let i = 0; i < this.dataSource.data.length; i++) {\n                if (this.selectedcontactlist.length < 20 && this.dataSource.data[i].selected == false) {\n                    this.selectedcontactlist.push({ phone: this.dataSource.data[i].phone });\n                    // var comma = this.listofscontact == \"\" ? \"\" : \",\";\n                    // this.listofscontact = this.listofscontact + comma + this.dataSource.data[i].phone;\n                    this.dataSource.data[i].selected = true;\n                }\n                else {\n                    console.log(\"full = \" + this.dataSource.data[i].phone);\n                }\n            }\n        }\n        this.listofscontact = \"\";\n        console.log(\"listofphones\" + this.dataSource.data[21].selected);\n    }\n    sendall() {\n        var userAgent = window.navigator.userAgent;\n        let message = \"hi i rec https://refr.club/ to visit\";\n        let comma = \"\";\n        if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {\n            comma = \"\";\n        }\n        else {\n            comma = \";\";\n        }\n        const url = \"sms:\" + comma + this.listofscontact + \"?\" + \"body=\" + message;\n        // alert(\"URl = \" + url);\n        window.open(url, \"_blank\");\n        // }\n        // else{\n        // this.socialSharing.shareViaSMS(message, \"\")\n        // }\n    }\n};\nCustomerComponent = __decorate([\n    Component({\n        selector: 'app-customer',\n        templateUrl: './customer.component.html',\n        styleUrls: ['./customer.component.scss']\n    })\n], CustomerComponent);\nexport { CustomerComponent };\n"]},"metadata":{},"sourceType":"module"}